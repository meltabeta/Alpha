<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KH Donghua - Watch Chinese Animations Online</title>
    <meta name="description" content="Watch the latest Chinese animations (donghua) online. Updated regularly with new episodes from series like Perfect World, Throne of Seal, and more.">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Custom CSS -->
    <link href="css/style.css" rel="stylesheet">
    <!-- Google Fonts - Montserrat -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://firebasestorage.googleapis.com/v0/b/kh-donghua.appspot.com/o/logo%2F_1.png?alt=media&token=68dbeae7-cf66-4fe8-b273-6f2619faffb0">
    
    <!-- Apple Touch Icon (for iOS devices) -->
    <link rel="apple-touch-icon" href="https://firebasestorage.googleapis.com/v0/b/kh-donghua.appspot.com/o/logo%2F_1.png?alt=media&token=68dbeae7-cf66-4fe8-b273-6f2619faffb0">
    
    <!-- Microsoft Tile Icon -->
    <meta name="msapplication-TileImage" content="https://firebasestorage.googleapis.com/v0/b/kh-donghua.appspot.com/o/logo%2F_1.png?alt=media&token=68dbeae7-cf66-4fe8-b273-6f2619faffb0">
    <meta name="msapplication-TileColor" content="#e50914">
    
    <!-- Safari Mask Icon -->
    <link rel="mask-icon" href="https://firebasestorage.googleapis.com/v0/b/kh-donghua.appspot.com/o/logo%2F_1.png?alt=media&token=68dbeae7-cf66-4fe8-b273-6f2619faffb0" color="#e50914">
    
    <!-- Theme Color for Mobile Browsers -->
    <meta name="theme-color" content="#141414">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="#">
                <img src="https://firebasestorage.googleapis.com/v0/b/kh-donghua.appspot.com/o/logo%2F_1.png?alt=media&token=68dbeae7-cf66-4fe8-b273-6f2619faffb0" 
                     alt="KH Donghua Logo" 
                     class="navbar-logo me-2">
                KH Donghua
            </a>
            <div class="navbar-actions d-flex align-items-center">
                <button class="btn btn-link text-light search-trigger" type="button" aria-label="Search">
                    <i class="fas fa-search"></i>
                </button>
                <button class="btn btn-link text-light sidebar-toggle" type="button" aria-label="Toggle Filters">
                    <i class="fas fa-filter"></i>
                </button>
                <button class="navbar-toggler ms-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto" id="navbar-nav">
                    <!-- Navigation items will be inserted here dynamically -->
                </ul>
            </div>
        </div>
    </nav>

    <!-- Header Section -->
    <header class="header-section">
        <div class="header-background"></div>
        <div class="container position-relative">
            <h1 class="header-title">Discover Amazing Donghua</h1>
            <p class="header-subtitle">
                Explore the best Chinese animations with stunning artwork and compelling stories.
                New episodes updated regularly.
            </p>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container" id="main-content">
        <div class="content-wrapper">
            <!-- Sidebar Filters -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <h2 class="sidebar-title">Filters</h2>
                    <button class="btn-close-sidebar" aria-label="Close Filters">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="filter-section">
                    <h3 class="filter-title">Status</h3>
                    <ul class="filter-list">
                        <li class="filter-item">
                            <input type="checkbox" id="status-ongoing" class="filter-checkbox" value="Ongoing">
                            <label for="status-ongoing" class="filter-label">
                                <span class="custom-checkbox"></span>
                                Ongoing
                            </label>
                        </li>
                        <li class="filter-item">
                            <input type="checkbox" id="status-completed" class="filter-checkbox" value="Completed">
                            <label for="status-completed" class="filter-label">
                                <span class="custom-checkbox"></span>
                                Completed
                            </label>
                        </li>
                    </ul>
                </div>
                <div class="filter-section">
                    <h3 class="filter-title">Type</h3>
                    <ul class="filter-list">
                        <li class="filter-item">
                            <input type="checkbox" id="type-donghua" class="filter-checkbox" value="Donghua">
                            <label for="type-donghua" class="filter-label">
                                <span class="custom-checkbox"></span>
                                Donghua
                            </label>
                        </li>
                        <li class="filter-item">
                            <input type="checkbox" id="type-anime" class="filter-checkbox" value="Anime">
                            <label for="type-anime" class="filter-label">
                                <span class="custom-checkbox"></span>
                                Anime
                            </label>
                        </li>
                    </ul>
                </div>
                <div class="filter-section">
                    <h3 class="filter-title">Rating</h3>
                    <ul class="filter-list">
                        <li class="filter-item">
                            <input type="checkbox" id="rating-high" class="filter-checkbox" value="high">
                            <label for="rating-high" class="filter-label">
                                <span class="custom-checkbox"></span>
                                8+ Rating
                            </label>
                        </li>
                        <li class="filter-item">
                            <input type="checkbox" id="rating-medium" class="filter-checkbox" value="medium">
                            <label for="rating-medium" class="filter-label">
                                <span class="custom-checkbox"></span>
                                6-8 Rating
                            </label>
                        </li>
                    </ul>
                </div>

                <!-- Add comments section to sidebar -->
                <div class="filter-section sidebar-comments">
                    <h3 class="filter-title">Recent Comments</h3>
                    <div id="sidebarCommentsContainer">
                        <div class="text-center py-3">
                            <div class="spinner-border spinner-border-sm" role="status">
                                <span class="visually-hidden">Loading comments...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>
            
            <!-- Dynamic Sections Container -->
            <div id="dynamic-sections">
                <!-- Sections will be inserted here dynamically -->
            </div>
        </div>
    </div>

    <!-- Update the comments section container -->
    <div class="container mb-5">
        <div class="comments-section">
            <h2 class="section-title mb-4">Comments & Feedback</h2>
            
            <!-- Comment Form -->
            <div class="comment-form-container mb-4">
                <form id="commentForm" class="comment-form">
                    <div class="mb-3">
                        <input type="text" class="form-control" id="commenterName" placeholder="Your Name" required>
                    </div>
                    <div class="mb-3">
                        <select class="form-control" id="commentType" required>
                            <option value="">Select Type</option>
                            <option value="feedback">General Feedback</option>
                            <option value="request">Request</option>
                            <option value="issue">Report Issue</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <textarea class="form-control" id="commentText" rows="4" placeholder="Your comment, request, or issue report..." required></textarea>
                    </div>
                    <button type="submit" class="btn btn-accent">Submit</button>
                </form>
            </div>

            <!-- Comments Display -->
            <div id="commentsContainer">
                <!-- Comments will be loaded here -->
                <div class="text-center loading-comments">
                    <div class="spinner-border" role="status">
                        <span class="visually-hidden">Loading comments...</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-light">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-3">
                    <h5 class="mb-3">About KH Donghua</h5>
                    <p class="text-secondary">Your premier destination for Chinese animations, providing high-quality donghua streaming experience.</p>
                </div>
                <div class="col-md-4 mb-3">
                    <h5 class="mb-3">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="#" class="text-secondary text-decoration-none quick-link" data-type="home">Latest Releases</a></li>
                        <li><a href="#" class="text-secondary text-decoration-none quick-link" data-type="donghua">Donghua Series</a></li>
                        <li><a href="#" class="text-secondary text-decoration-none quick-link" data-type="anime">Anime Series</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-3">
                    <h5 class="mb-3">Follow Us</h5>
                    <div class="d-flex gap-3">
                        <a href="#" class="text-secondary"><i class="fab fa-facebook fa-lg"></i></a>
                        <a href="#" class="text-secondary"><i class="fab fa-twitter fa-lg"></i></a>
                        <a href="#" class="text-secondary"><i class="fab fa-instagram fa-lg"></i></a>
                        <a href="#" class="text-secondary"><i class="fab fa-discord fa-lg"></i></a>
                    </div>
                </div>
            </div>
            <hr class="border-secondary">
            <div class="text-center text-secondary">
                <p class="mb-1">© 2024 KH Donghua. All rights reserved.</p>
                <p class="developer-credit mb-0">Developed by <span class="text-accent">Mr. SEANG SENGLY</span></p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    <!-- Custom JS -->
    <script type="module" src="js/services/firebase.service.js"></script>
    <script type="module" src="js/main.js"></script>
</body>
</html> 